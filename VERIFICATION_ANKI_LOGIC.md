# ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ANKI –ª–æ–≥–∏–∫–∏ - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ 1. –§–∏–∫—Å–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ –Ω–∞—á–∞–ª–µ —Å–µ—Å—Å–∏–∏

**–ö–æ–¥** (`handlers/start.py:121-126`):
```python
# Initialize review session
user = await storage.get_user(telegram_id)
if user:
    user.current_session_total = len(due_cards)  ‚Üê –§–ò–ö–°–ê–¶–ò–Ø!
    user.current_session_index = 1
    await storage.save_user(user)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ Correct - —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –Ω–∞—á–∞–ª–µ

---

### ‚úÖ 2. –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –ù–ï –º–µ–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–µ—Å—Å–∏–∏

**–ö–æ–¥** (`handlers/review.py:79-90`):
```python
# Get session progress
user = await storage.get_user(telegram_id)
if user and user.current_session_total:
    # Increment session index
    user.current_session_index += 1  ‚Üê –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
    await storage.save_user(user)
    session_index = user.current_session_index
    session_total = user.current_session_total  ‚Üê –ë–µ—Ä–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ!
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ Correct - –±–µ—Ä–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ, –ù–ï –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è!

---

### ‚úÖ 3. –ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏

**–ö–æ–¥** (`services/card_manager.py:process_response`):
```python
# –ü–æ—Å–ª–µ –æ—Ü–µ–Ω–∫–∏
card.last_reviewed = now.isoformat()
new_index, next_review = calculate_next_review(...)
card.next_review_time = next_review.isoformat()
await storage.save_user_card(card)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ Correct - next_review_time –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –±—É–¥—É—â–µ–µ, –∫–∞—Ä—Ç–æ—á–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ due_cards

---

### ‚úÖ 4. –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

**–ö–æ–¥** (`handlers/review.py:100-105`):
```python
else:
    # Reset session counters
    user = await storage.get_user(telegram_id)
    if user:
        user.current_session_total = None  ‚Üê –°–±—Ä–æ—Å!
        user.current_session_index = 0     ‚Üê –°–±—Ä–æ—Å!
        await storage.save_user(user)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ Correct - —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏

---

## üìä –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π: –û–±—É—á–µ–Ω–∏–µ ‚Üí –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è

**–î–µ–Ω—å 1, 10:00 - –û–±—É—á–µ–Ω–∏–µ:**
```
21 –∫–∞—Ä—Ç–æ—á–∫–∞ ‚Üí session_total = 21
–ü—Ä–æ–≥—Ä–µ—Å—Å: 1/21, 2/21, ..., 21/21

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- 5 "–ó–Ω–∞–ª" (interval ‚Üí 1, next = 14:00)
- 10 "–°–æ–º–Ω–µ–≤–∞–ª—Å—è" (interval ‚Üí 0, next = 11:00)
- 6 "–ù–µ –∑–Ω–∞–ª" (interval ‚Üí 0, next = 11:00)
```

---

**–î–µ–Ω—å 1, 11:00 - –°–µ—Å—Å–∏—è 1:**
```
–ì–æ—Ç–æ–≤—ã: 16 –∫–∞—Ä—Ç–æ—á–µ–∫ ("—Å–æ–º–Ω–µ–≤–∞–ª—Å—è" + "–Ω–µ –∑–Ω–∞–ª")
session_total = 16 ‚Üê –§–ò–ö–°–ê–¶–ò–Ø!

–ü—Ä–æ–≥—Ä–µ—Å—Å: 1/16
–ü—Ä–æ–≥—Ä–µ—Å—Å: 2/16
...
–ü—Ä–æ–≥—Ä–µ—Å—Å: 16/16

–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å 16 –Ω–µ –º–µ–Ω—è–ª—Å—è! ‚úÖ
```

---

**–î–µ–Ω—å 1, 14:00 - –°–µ—Å—Å–∏—è 2:**
```
–ì–æ—Ç–æ–≤—ã: 21 –∫–∞—Ä—Ç–æ—á–∫–∞ (–≤—Å–µ —Å–Ω–æ–≤–∞)
session_total = 21 ‚Üê –ù–û–í–ê–Ø –§–ò–ö–°–ê–¶–ò–Ø!

–ü—Ä–æ–≥—Ä–µ—Å—Å: 1/21, 2/21, ..., 21/21

–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã ‚úÖ
```

---

**–î–µ–Ω—å 2, 10:00 - –°–µ—Å—Å–∏—è 3:**
```
–ì–æ—Ç–æ–≤—ã: 8 –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ç–æ–ª—å–∫–æ —Ç–µ —á—Ç–æ –≥–æ—Ç–æ–≤—ã –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É)
session_total = 8 ‚Üê –ú–ï–ù–¨–®–ï!

–ü—Ä–æ–≥—Ä–µ—Å—Å: 1/8, 2/8, ..., 8/8

–ú–µ–Ω—å—à–µ –ø–æ—Ç–æ–º—É —á—Ç–æ —á–∞—Å—Ç—å –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–º–µ—é—Ç –±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã! ‚úÖ
```

---

## ‚úÖ –í–´–í–û–î–´

### –õ–æ–≥–∏–∫–∞ ANKI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ü–†–ê–í–ò–õ–¨–ù–û:

1. ‚úÖ **–§–∏–∫—Å–∞—Ü–∏—è total** –≤ –Ω–∞—á–∞–ª–µ —Å–µ—Å—Å–∏–∏
2. ‚úÖ **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ index** –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
3. ‚úÖ **Total –ù–ï –º–µ–Ω—è–µ—Ç—Å—è** –¥–æ –∫–æ–Ω—Ü–∞ —Å–µ—Å—Å–∏–∏
4. ‚úÖ **–ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è** –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
5. ‚úÖ **–°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–æ–≤** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
6. ‚úÖ **–ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è** = –Ω–æ–≤—ã–π total

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ANKI:

- ‚úÖ Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–ø–∞—Ä—Ç–∏—è–º–∏)
- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ —Å–µ—Å—Å–∏–∏
- ‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ ANKI!**

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É @FilevskiyBot –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —Å–∞–º–∏! üöÄ

