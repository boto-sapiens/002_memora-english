from aiogram import Router
from aiogram.filters import Command
from aiogram.types import Message

router = Router()


@router.message(Command("help"))
async def cmd_help(message: Message):
    """Handle /help command"""
    help_text = (
        "📚 <b>Доступные команды:</b>\n\n"
        
        "🎓 <b>/start</b>\n"
        "Начать обучение или продолжить с текущей карточки\n\n"
        
        "📊 <b>/progress</b>\n"
        "Посмотреть свой прогресс обучения:\n"
        "• Сколько карточек изучено\n"
        "• Статистика ответов\n"
        "• Серия дней подряд\n"
        "• Время следующего повторения\n\n"
        
        "👥 <b>/group_stats</b>\n"
        "Посмотреть статистику всех пользователей:\n"
        "• Рейтинг по прогрессу\n"
        "• Средний прогресс группы\n\n"
        
        "❓ <b>/help</b>\n"
        "Показать это сообщение с описанием команд\n\n"
        
        "━━━━━━━━━━━━━━━━━━━━\n\n"
        
        "<b>📖 Как это работает:</b>\n\n"
        
        "1️⃣ Отправьте /start чтобы начать обучение\n\n"
        
        "2️⃣ Оцените каждое словосочетание:\n"
        "   • ✅ <b>Знал</b> - увеличит интервал повторения\n"
        "   • 🤔 <b>Сомневался</b> - оставит текущий интервал\n"
        "   • ❌ <b>Не знал</b> - сбросит интервал на начало\n\n"
        
        "3️⃣ После первого прохода начнется режим повторений\n\n"
        
        "4️⃣ Бот будет напоминать когда пора повторить карточки\n\n"
        
        "5️⃣ Следите за прогрессом через /progress\n\n"
        
        "━━━━━━━━━━━━━━━━━━━━\n\n"
        
        "<b>🔥 Интервалы повторения (алгоритм ANKI):</b>\n"
        "1 час → 4 часа → 1 день → 3 дня → 7 дней → \n"
        "14 дней → 30 дней → 60 дней → 90 дней → \n"
        "180 дней → 365 дней\n\n"
        
        "━━━━━━━━━━━━━━━━━━━━\n\n"
        
        "💡 <b>Совет:</b> Занимайтесь каждый день чтобы \n"
        "увеличить серию дней подряд! 🔥\n\n"
        
        "🎯 Всего в боте: <b>21 словосочетание</b> из \n"
        "произведения Оскара Уайльда."
    )
    
    await message.answer(help_text, parse_mode="HTML")

