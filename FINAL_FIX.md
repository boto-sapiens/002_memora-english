# ‚úÖ –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï - –ß–∏—Å–ª–∏—Ç–µ–ª—å –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å!

## üêõ –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

### –ß—Ç–æ –±—ã–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **–ß–∏—Å–ª–∏—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ = 1** - `current_session_index` –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. **–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å —É–º–µ–Ω—å—à–∞–ª—Å—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –≤–º–µ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞** - –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –∏–Ω–¥–µ–∫—Å –Ω–∞—á–∏–Ω–∞–ª—Å—è —Å 0 –≤–º–µ—Å—Ç–æ 1

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∏—Ç–µ–ª—è

**–í `handlers/review.py:82-84`** (Review Phase):
```python
# Increment session index before showing next card
user.current_session_index += 1
await storage.save_user(user)
session_index = user.current_session_index
```

**–í `handlers/review.py:56-58`** (Learning Phase):
```python
# Update session index for learning phase
user = await storage.get_user(telegram_id)
if user and user.current_session_total:
    user.current_session_index += 1
    await storage.save_user(user)
```

### 2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–∞

**–í `handlers/start.py:71`** (Learning Phase):
```python
user.current_session_index = 1  # First card
```

**–í `handlers/start.py:138`** (Review Phase):
```python
user.current_session_index = 1  # Start from 1 for first card
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–í–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `user.current_session_total`** –≤–º–µ—Å—Ç–æ `len(due_cards)`

### 4. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–£–±—Ä–∞–Ω–æ `+ 1`** –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
```python
f"üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: {session_index}/{session_total}"
```

---

## üéØ –¢–µ–ø–µ—Ä—å –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

### Learning Phase (21 –∫–∞—Ä—Ç–æ—á–∫–∞):
```
–ü—Ä–æ–≥—Ä–µ—Å—Å: 1/21  ‚Üí –û—Ü–µ–Ω–∫–∞ ‚Üí 2/21
–ü—Ä–æ–≥—Ä–µ—Å—Å: 2/21  ‚Üí –û—Ü–µ–Ω–∫–∞ ‚Üí 3/21
...
–ü—Ä–æ–≥—Ä–µ—Å—Å: 21/21 ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–æ

–ß–∏—Å–ª–∏—Ç–µ–ª—å: 1, 2, 3, ..., 21 ‚úÖ
–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å: 21, 21, 21, ..., 21 ‚úÖ
```

### Review Phase (–Ω–∞–ø—Ä–∏–º–µ—Ä, 16 –∫–∞—Ä—Ç–æ—á–µ–∫):
```
–ü—Ä–æ–≥—Ä–µ—Å—Å: 1/16  ‚Üí –û—Ü–µ–Ω–∫–∞ ‚Üí 2/16
–ü—Ä–æ–≥—Ä–µ—Å—Å: 2/16  ‚Üí –û—Ü–µ–Ω–∫–∞ ‚Üí 3/16
...
–ü—Ä–æ–≥—Ä–µ—Å—Å: 16/16 ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–æ

–ß–∏—Å–ª–∏—Ç–µ–ª—å: 1, 2, 3, ..., 16 ‚úÖ
–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å: 16, 16, 16, ..., 16 ‚úÖ
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞:

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏:
```python
user.current_session_total = len(cards)  # –§–ò–ö–°–ê–¶–ò–Ø
user.current_session_index = 1           # –ü–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
```

### 2. –ü–æ–∫–∞–∑ —Å–ª–µ–¥—É—é—â–µ–π –∫–∞—Ä—Ç–æ—á–∫–∏:
```python
user.current_session_index += 1          # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º
session_index = user.current_session_index
session_total = user.current_session_total  # –ë–µ—Ä–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ
```

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
```python
f"–ü—Ä–æ–≥—Ä–µ—Å—Å: {session_index}/{session_total}"
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É @FilevskiyBot:**

1. **Learning Phase:**
   - –ü—Ä–æ–≥—Ä–µ—Å—Å: 1/21 ‚Üê –ß–∏—Å–ª–∏—Ç–µ–ª—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è!
   - –û—Ü–µ–Ω–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É
   - –ü—Ä–æ–≥—Ä–µ—Å—Å: 2/21 ‚Üê –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è!
   - –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –¥–æ 21/21

2. **Review Phase (—á–µ—Ä–µ–∑ —á–∞—Å):**
   - "X –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"
   - [–ù–∞—á–∞—Ç—å]
   - –ü—Ä–æ–≥—Ä–µ—Å—Å: 1/X ‚Üê –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å!
   - –ü—Ä–æ–≥—Ä–µ—Å—Å: 2/X ‚Üê –ß–∏—Å–ª–∏—Ç–µ–ª—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è!
   - ...
   - –ü—Ä–æ–≥—Ä–µ—Å—Å: X/X

---

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!

**–ß–∏—Å–ª–∏—Ç–µ–ª—å:** ‚úÖ –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (1, 2, 3, ...)  
**–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å:** ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ —Å–µ—Å—Å–∏–∏ (–Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è)  
**–õ–æ–≥–∏–∫–∞ ANKI:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ

_–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É @FilevskiyBot!_
