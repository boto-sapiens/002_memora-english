# โ ะะพะผะฐะฝะดะฐ /progress - ะะตะฐะปะธะทะพะฒะฐะฝะพ

## ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ

### 1. ะะฐััะธัะตะฝะฝะฐั ััะฐัะธััะธะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปั

ะ ะผะพะดะตะปั `User` ะดะพะฑะฐะฒะปะตะฝั ะฟะพะปั:
- `knew_count` - ะบะพะปะธัะตััะฒะพ ะพัะฒะตัะพะฒ "ะะฝะฐะป"
- `doubt_count` - ะบะพะปะธัะตััะฒะพ ะพัะฒะตัะพะฒ "ะกะพะผะฝะตะฒะฐะปัั"  
- `forgot_count` - ะบะพะปะธัะตััะฒะพ ะพัะฒะตัะพะฒ "ะะต ะทะฝะฐะป"
- `total_reviews` - ะพะฑัะตะต ะบะพะปะธัะตััะฒะพ ะฟะพะฒัะพัะตะฝะธะน
- `current_streak` - ัะตัะธั ะดะฝะตะน ะฟะพะดััะด
- `last_activity_date` - ะดะฐัะฐ ะฟะพัะปะตะดะฝะตะน ะฐะบัะธะฒะฝะพััะธ

### 2. ะะฒัะพะผะฐัะธัะตัะบะพะต ะพััะปะตะถะธะฒะฐะฝะธะต ััะฐัะธััะธะบะธ

ะัะธ ะบะฐะถะดะพะผ ะพัะฒะตัะต ะฟะพะปัะทะพะฒะฐัะตะปั:
- ะฃะฒะตะปะธัะธะฒะฐะตััั ัะพะพัะฒะตัััะฒัััะธะน ััะตััะธะบ (knew/doubt/forgot)
- ะะฑะฝะพะฒะปัะตััั ะพะฑัะตะต ะบะพะปะธัะตััะฒะพ ะฟะพะฒัะพัะตะฝะธะน
- ะะฐัััะธััะฒะฐะตััั streak (ัะตัะธั ะดะฝะตะน)
- ะกะพััะฐะฝัะตััั ะดะฐัะฐ ะฟะพัะปะตะดะฝะตะน ะฐะบัะธะฒะฝะพััะธ

### 3. ะกะตัะฒะธั ะฟัะพะณัะตััะฐ

`services/progress_service.py` - ะฟะพะดััะตั ััะฐัะธััะธะบะธ:
- ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะบะฐััะพัะตะบ
- ะะทััะตะฝะฝัะต ะบะฐััะพัะบะธ (ะฒ ััะฐัััะต review)
- ะะฐััะพัะบะธ ะพะถะธะดะฐััะธะต ะฟะพะฒัะพัะตะฝะธั (due)
- ะัะตะผั ัะปะตะดัััะตะณะพ ะฟะพะฒัะพัะตะฝะธั
- ะกัะฐัะธััะธะบะฐ ะพัะฒะตัะพะฒ
- Streak

### 4. Handler ะบะพะผะฐะฝะดั /progress

`handlers/progress.py` - ะพะฑัะฐะฑะพััะธะบ ะบะพะผะฐะฝะดั:
- ะัะฐัะธะฒะพ ัะพัะผะฐัะธัะพะฒะฐะฝะฝัะน ะฒัะฒะพะด
- ะญะผะพะดะทะธ ะดะปั ะฝะฐะณะปัะดะฝะพััะธ
- ะัะตะผั ัะปะตะดัััะตะณะพ ะฟะพะฒัะพัะตะฝะธั ะฒ ะผะพัะบะพะฒัะบะพะผ ัะฐัะพะฒะพะผ ะฟะพััะต

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะพะผะฐะฝะดะฐ ะฒ Telegram

```
/progress
```

### ะัะธะผะตั ะฒัะฒะพะดะฐ

```
๐ ะะฐั ะฟัะพะณัะตัั:

๐ ะัะตะณะพ ัะปะพะฒะพัะพัะตัะฐะฝะธะน: 21
โ ะะทััะตะฝะพ: 3
โฐ ะะถะธะดะฐัั ะฟะพะฒัะพัะตะฝะธั: 1
๐ ะกะปะตะดัััะตะต ะฟะพะฒัะพัะตะฝะธะต: 19.10.2025 15:30

ะกัะฐัะธััะธะบะฐ ะพัะฒะตัะพะฒ:
โ ะะฝะฐะป: 5 ัะฐะท
๐ค ะกะพะผะฝะตะฒะฐะปัั: 2 ัะฐะท
โ ะะต ะทะฝะฐะป: 1 ัะฐะท

๐ฅ ะกะตัะธั ะดะฝะตะน ะฟะพะดััะด: 1
๐ ะัะตะณะพ ะฟะพะฒัะพัะตะฝะธะน: 8
```

## ะะธะณัะฐัะธั

ะะปั ัััะตััะฒัััะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน:

```bash
cd ~/projects/FilevskiyBot
source venv/bin/activate
python migrate_users.py
```

ะญัะพ ะดะพะฑะฐะฒะธั ะฝะพะฒัะต ะฟะพะปั ั ะฝัะปะตะฒัะผะธ ะทะฝะฐัะตะฝะธัะผะธ.

## ะคะฐะนะปั

ะกะพะทะดะฐะฝะฝัะต/ะธะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั:

1. `storage/models.py` - ัะฐััะธัะตะฝะฐ ะผะพะดะตะปั User
2. `services/card_manager.py` - ะดะพะฑะฐะฒะปะตะฝ ััะตั ััะฐัะธััะธะบะธ
3. `services/progress_service.py` - ะฝะพะฒัะน ัะตัะฒะธั
4. `handlers/progress.py` - ะฝะพะฒัะน handler
5. `bot.py` - ะทะฐัะตะณะธัััะธัะพะฒะฐะฝ progress router
6. `migrate_users.py` - ัะบัะธะฟั ะผะธะณัะฐัะธะธ
7. `test_progress.py` - ัะตัั ััะฝะบัะธะพะฝะฐะปะฐ

## ะัะพะฑะตะฝะฝะพััะธ

### ะะฐััะตั streak

- ะฃะฒะตะปะธัะธะฒะฐะตััั ะฝะฐ 1 ะตัะปะธ ะฐะบัะธะฒะฝะพััั ะฑัะปะฐ ะฒัะตัะฐ
- ะกะฑัะฐััะฒะฐะตััั ะฝะฐ 1 ะตัะปะธ ะฑัะป ะฟัะพะฟััะบ
- ะะต ะธะทะผะตะฝัะตััั ะตัะปะธ ะฐะบัะธะฒะฝะพััั ัะถะต ะฑัะปะฐ ัะตะณะพะดะฝั

### ะกัะฐัะธััะธะบะฐ "ะะทััะตะฝะพ"

ะะฐััะพัะบะฐ ััะธัะฐะตััั ะธะทััะตะฝะฝะพะน ะบะพะณะดะฐ:
- ะกัะฐััั ะฟะตัะตะฒะตะดะตะฝ ะฒ `review` (ะฟะพัะปะต ะฟะตัะฒะพะณะพ ะฟัะพัะผะพััะฐ)
- ะะฐััะพัะบะฐ ะฝะฐัะพะดะธััั ะฒ ัะธะบะปะต ะธะฝัะตัะฒะฐะปัะฝะพะณะพ ะฟะพะฒัะพัะตะฝะธั

### ะกะปะตะดัััะตะต ะฟะพะฒัะพัะตะฝะธะต

- ะะพะบะฐะทัะฒะฐะตััั ะผะธะฝะธะผะฐะปัะฝะพะต ะฒัะตะผั ััะตะดะธ ะฒัะตั ะบะฐััะพัะตะบ ะฒ ะฑัะดััะตะผ
- ะัะปะธ ะฝะตั ะบะฐััะพัะตะบ โ "ะฒัะต ะฟะพะฒัะพัะตะฝะธั ะทะฐะฒะตััะตะฝั"
- ะัะตะผั ัะพัะผะฐัะธััะตััั ะฒ ะผะพัะบะพะฒัะบะพะผ ัะฐัะพะฒะพะผ ะฟะพััะต

## ะขะตััะธัะพะฒะฐะฝะธะต

1. ะัะฟัะฐะฒััะต `/progress` ะดะพ ะพะฑััะตะฝะธั โ "ะั ะตัะต ะฝะต ะฝะฐัะฐะปะธ ะพะฑััะตะฝะธะต"
2. ะัะพะนะดะธัะต ะฝะตัะบะพะปัะบะพ ะบะฐััะพัะตะบ ั ัะฐะทะฝัะผะธ ะพัะฒะตัะฐะผะธ
3. ะัะฟัะฐะฒััะต `/progress` โ ััะฐัะธััะธะบะฐ ะพัะพะฑัะฐะถะฐะตััั
4. ะัะพะฒะตัััะต ััะตััะธะบะธ knew/doubt/forgot
5. ะัะพะฒะตัััะต ััะพ streak = 1 (ะฟะตัะฒัะน ะดะตะฝั)
6. ะะฐ ัะปะตะดัััะธะน ะดะตะฝั ะฟะพะฒัะพัะธัะต โ streak = 2

## ะะตัะตะทะฐะฟััะบ ะฑะพัะฐ

ะะพัะปะต ัะตะฐะปะธะทะฐัะธะธ ะฑะพั ะฟะตัะตะทะฐะฟััะตะฝ:

```bash
pkill -f "python bot.py"
pkill -f "python scheduler"
cd ~/projects/FilevskiyBot
source venv/bin/activate
nohup python bot.py > logs/bot.log 2>&1 &
nohup python scheduler_runner.py > logs/scheduler.log 2>&1 &
```

---

**ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!** ะัะฟัะฐะฒััะต `/progress` ะฑะพัั @FilevskiyBot! ๐

